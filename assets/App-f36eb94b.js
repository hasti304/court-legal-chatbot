import{R as v,r as o,j as e,_ as Z}from"./index-2c74ac40.js";var H={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_=v.createContext&&v.createContext(H),$=["attr","size","title"];function G(t,s){if(t==null)return{};var a=W(t,s),n,c;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(c=0;c<l.length;c++)n=l[c],!(s.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function W(t,s){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(s.indexOf(n)>=0)continue;a[n]=t[n]}return a}function N(){return N=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},N.apply(this,arguments)}function I(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),a.push.apply(a,n)}return a}function y(t){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?I(Object(a),!0).forEach(function(n){q(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function q(t,s,a){return s=Q(s),s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}function Q(t){var s=U(t,"string");return typeof s=="symbol"?s:s+""}function U(t,s){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,s||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function R(t){return t&&t.map((s,a)=>v.createElement(s.tag,y({key:a},s.attr),R(s.child)))}function m(t){return s=>v.createElement(J,N({attr:y({},t.attr)},s),R(t.child))}function J(t){var s=a=>{var{attr:n,size:c,title:l}=t,f=G(t,$),g=c||a.size||"1em",u;return a.className&&(u=a.className),t.className&&(u=(u?u+" ":"")+t.className),v.createElement("svg",N({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,n,f,{className:u,style:y(y({color:t.color||a.color},a.style),t.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),l&&v.createElement("title",null,l),t.children)};return _!==void 0?v.createElement(_.Consumer,null,a=>s(a)):s(H)}function K(t){return m({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function Y(t){return m({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function X(t){return m({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function A(t){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.971 199.362l-22.627-22.627c-9.373-9.373-24.569-9.373-33.941 0l-5.657 5.657L329.608 69.255l5.657-5.657c9.373-9.373 9.373-24.569 0-33.941L312.638 7.029c-9.373-9.373-24.569-9.373-33.941 0L154.246 131.48c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l5.657-5.657 39.598 39.598-81.04 81.04-5.657-5.657c-12.497-12.497-32.758-12.497-45.255 0L9.373 412.118c-12.497 12.497-12.497 32.758 0 45.255l45.255 45.255c12.497 12.497 32.758 12.497 45.255 0l114.745-114.745c12.497-12.497 12.497-32.758 0-45.255l-5.657-5.657 81.04-81.04 39.598 39.598-5.657 5.657c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l124.451-124.451c9.372-9.372 9.372-24.568 0-33.941z"},child:[]}]})(t)}function ee(t){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function te(t){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function se(t){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function ne(t){return m({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function ae(t){return m({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(t)}function re(t){return m({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}const E=()=>{const[t,s]=o.useState(!1),a=[{name:"Emergency Services (Police/Fire/Ambulance)",phone:"911",description:"Immediate life-threatening emergency",color:"#dc2626"},{name:"National Domestic Violence Hotline",phone:"1-800-799-7233",description:"24/7 support for domestic violence survivors",color:"#ea580c"},{name:"Illinois Domestic Violence Hotline",phone:"1-877-863-6338",description:"Illinois-specific domestic violence resources",color:"#d97706"},{name:"National Suicide Prevention Lifeline",phone:"988",description:"24/7 mental health crisis support",color:"#7c3aed"},{name:"Illinois Child Abuse Hotline (DCFS)",phone:"1-800-252-2873",description:"Report child abuse or neglect",color:"#0891b2"},{name:"National Sexual Assault Hotline (RAINN)",phone:"1-800-656-4673",description:"Confidential support for sexual assault survivors",color:"#db2777"}];return e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"emergency-floating-button",onClick:()=>s(!0),title:"Emergency Resources",children:[e.jsx(Y,{size:24}),e.jsx("span",{children:"EMERGENCY"})]}),t&&e.jsx("div",{className:"emergency-modal-overlay",onClick:()=>s(!1),children:e.jsxs("div",{className:"emergency-modal",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"emergency-modal-header",children:[e.jsx("h2",{children:"üö® Emergency Resources"}),e.jsx("button",{className:"emergency-close-btn",onClick:()=>s(!1),children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"emergency-modal-body",children:[e.jsx("p",{className:"emergency-warning",children:"If you are in immediate danger, call 911 now."}),e.jsx("div",{className:"emergency-resources-grid",children:a.map((n,c)=>e.jsxs("div",{className:"emergency-resource-card",style:{borderLeftColor:n.color},children:[e.jsx("h3",{children:n.name}),e.jsx("p",{children:n.description}),e.jsxs("a",{href:`tel:${n.phone.replace(/[^0-9]/g,"")}`,className:"emergency-call-button",style:{background:n.color},children:["üìû Call ",n.phone]})]},c))}),e.jsxs("div",{className:"emergency-safety-notice",children:[e.jsx("strong",{children:"Safety Note:"})," If someone is monitoring your internet activity, consider calling instead of using online resources.",e.jsx("button",{className:"quick-exit-button",onClick:()=>window.location.href="https://www.google.com",children:"Quick Exit ‚Üí"})]})]})]})})]})},ie=o.lazy(()=>Z(()=>import("./AIChat-d89f5c13.js"),["assets/AIChat-d89f5c13.js","assets/index-2c74ac40.js","assets/index-c41f8a83.css","assets/AIChat-72dc5de8.css"]));function oe(){const[t,s]=o.useState(!1),[a,n]=o.useState(!1),[c,l]=o.useState([]),[f,g]=o.useState({}),[u,w]=o.useState([]),[j,C]=o.useState(""),[p,O]=o.useState(!1),[M,P]=o.useState(""),z=o.useRef(null),B=o.useRef(null),V=()=>{var r;(r=z.current)==null||r.scrollIntoView({behavior:"smooth"})};o.useEffect(()=>{c.length>0&&V()},[c]);const b=async(r,x=!1)=>{O(!0);const i={role:"user",content:r};l(d=>[...d,i]),C("");try{const d=await fetch("https://court-legal-chatbot.onrender.com/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r.toLowerCase(),conversation_state:f})});if(!d.ok)throw new Error(`Server error: ${d.status}`);const h=await d.json();h.conversation_state&&h.conversation_state.topic&&P(h.conversation_state.topic.replace("_"," "));const S={role:"bot",content:h.response,options:h.options||[],referrals:h.referrals||[]};l(k=>[...k,S]),g(h.conversation_state||{}),!x&&h.conversation_state&&w(k=>[...k,{state:h.conversation_state,userMessage:i,botMessage:S,allMessages:[...c,i,S]}])}catch(d){console.error("Connection error details:",d),l(h=>[...h,{role:"bot",content:"‚ö†Ô∏è Unable to connect to the server. Please wait 60 seconds for the backend to wake up, then click 'Restart' to try again.",options:[]}])}O(!1)},F=r=>{r.preventDefault(),j.trim()&&!p&&b(j.trim())},T=r=>{p||b(r)},L=()=>{l([]),g({}),w([]),C(""),P(""),b("start")},D=()=>{if(u.length<2){L();return}const r=u.slice(0,-1),x=r[r.length-1];w(r),g(x.state),l(x.allMessages)};return a?e.jsx(o.Suspense,{fallback:e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Loading AI Chat..."}),children:e.jsx(ie,{topic:M,onBack:()=>n(!1)})}):t?e.jsxs("div",{className:"chat-page",children:[e.jsx("div",{className:"chat-header",children:e.jsxs("div",{className:"header-content",children:[e.jsx(A,{size:28,color:"#fff"}),e.jsxs("div",{className:"header-text",children:[e.jsx("h2",{children:"CAL Legal Information and Resources Chatbot"}),e.jsx("p",{children:"Information & Referrals"})]})]})}),e.jsxs("div",{className:"chat-container",children:[e.jsxs("div",{className:"messages-container",ref:B,children:[c.length===0&&!p&&e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"Starting conversation..."})}),c.map((r,x)=>e.jsx("div",{className:`message-wrapper ${r.role}`,children:e.jsx("div",{className:`message ${r.role}`,children:e.jsxs("div",{className:"message-content",children:[r.content,r.referrals&&r.referrals.length>0&&e.jsxs("div",{className:"referrals",children:[e.jsx("h4",{className:"referrals-title",children:"üìã Recommended Resources:"}),r.referrals.map((i,d)=>e.jsxs("div",{className:"referral-card",children:[e.jsx("div",{className:"referral-header",children:e.jsx("h3",{children:i.name})}),e.jsx("p",{className:"referral-description",children:i.description}),e.jsxs("div",{className:"referral-contact",children:[i.phone&&i.phone!==""&&e.jsxs("div",{className:"contact-item",children:[e.jsx(se,{size:14}),e.jsxs("span",{children:[e.jsx("strong",{children:"Intake Phone:"})," ",i.phone]})]}),i.intake_form&&i.intake_form!==""&&e.jsxs("div",{className:"contact-item",children:[e.jsx(X,{size:14}),e.jsx("a",{href:i.intake_form,target:"_blank",rel:"noopener noreferrer",className:"intake-link",children:"Direct Intake Form"})]}),i.intake_instructions&&i.intake_instructions!==""&&e.jsxs("div",{className:"intake-instructions",children:[e.jsx(ee,{size:14}),e.jsx("span",{children:i.intake_instructions})]})]}),i.is_nfp&&e.jsx("button",{className:"btn btn-nfp-intake",onClick:()=>window.open("https://www.chicagoadvocatelegal.com/contact.html","_blank"),children:"üìÖ Schedule Intake Appointment with Cindy"}),e.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-referral",children:"Visit Website ‚Üí"})]},d)),f.step==="complete"&&e.jsxs("div",{className:"ai-assistant-prompt",children:[e.jsxs("button",{className:"btn btn-ai-assistant",onClick:()=>n(!0),children:[e.jsx(ae,{size:18})," Have Questions? Ask the AI Legal Assistant"]}),e.jsx("p",{className:"ai-assistant-hint",children:"Get answers about forms, procedures, deadlines, and court processes"})]})]}),r.options&&r.options.length>0&&e.jsx("div",{className:"options",children:r.options.map((i,d)=>e.jsx("button",{className:"btn btn-option",onClick:()=>T(i),disabled:p,children:i},d))})]})})},x)),p&&e.jsx("div",{className:"message-wrapper bot",children:e.jsx("div",{className:"message bot",children:e.jsxs("div",{className:"typing-indicator",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})})}),e.jsx("div",{ref:z})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("button",{onClick:D,className:"btn btn-back",title:"Go Back",disabled:u.length<2||p,children:e.jsx(K,{size:24})}),e.jsx("button",{onClick:L,className:"btn btn-restart",title:"Restart",children:e.jsx(ne,{size:24})}),e.jsxs("form",{onSubmit:F,className:"input-form",children:[e.jsx("input",{type:"text",value:j,onChange:r=>C(r.target.value),placeholder:"Type your message here...",disabled:p,className:"chat-input"}),e.jsx("button",{type:"submit",className:"btn btn-send",disabled:p||!j.trim(),title:"Send message",children:e.jsx(te,{size:18})})]})]}),e.jsxs("div",{className:"chat-footer",children:[e.jsx("p",{className:"footer-disclaimer",children:e.jsx("strong",{children:"Legal information and resources only, not legal advice."})}),e.jsxs("p",{className:"footer-privacy-warning",children:["‚ö†Ô∏è ",e.jsx("strong",{children:"Privacy Notice:"})," This chatbot is not private. Any information you provide could be disclosed."]})]})]}),e.jsx(E,{})]}):e.jsxs("div",{className:"landing",children:[e.jsx("div",{className:"landing-header",children:e.jsxs("div",{className:"logo-container",children:[e.jsx("div",{className:"icon-circle",children:e.jsx(A,{color:"#fff",size:50})}),e.jsx("h1",{children:"CAL Legal Information and Resources Chatbot"}),e.jsx("p",{className:"subtitle",children:"Self-Help Resource Navigator"})]})}),e.jsxs("div",{className:"landing-content",children:[e.jsx("h2",{children:"Welcome to the Legal Resource Portal"}),e.jsx("p",{className:"tagline",children:"This chatbot connects Illinois residents with legal information and referrals for:"}),e.jsxs("div",{className:"topic-cards",children:[e.jsxs("div",{className:"topic-card",children:[e.jsx("div",{className:"topic-icon",children:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶"}),e.jsx("h3",{children:"Child Support"}),e.jsx("p",{children:"Resources for custody and support matters"})]}),e.jsxs("div",{className:"topic-card",children:[e.jsx("div",{className:"topic-icon",children:"üéì"}),e.jsx("h3",{children:"Education"}),e.jsx("p",{children:"School rights and special education help"})]}),e.jsxs("div",{className:"topic-card",children:[e.jsx("div",{className:"topic-icon",children:"üè†"}),e.jsx("h3",{children:"Housing"}),e.jsx("p",{children:"Tenant rights and eviction assistance"})]}),e.jsxs("div",{className:"topic-card",children:[e.jsx("div",{className:"topic-icon",children:"‚öñÔ∏è"}),e.jsx("h3",{children:"Divorce"}),e.jsx("p",{children:"Divorce proceedings and legal guidance"})]}),e.jsxs("div",{className:"topic-card",children:[e.jsx("div",{className:"topic-icon",children:"üë∂üèæ"}),e.jsx("h3",{children:"Custody"}),e.jsx("p",{children:"Child custody and parenting time"})]})]}),e.jsx("button",{className:"btn btn-primary btn-large btn-start",onClick:()=>{s(!0),b("start")},children:"Begin Case Inquiry"}),e.jsxs("div",{className:"disclaimer-box",children:[e.jsx("p",{className:"disclaimer-title",children:"‚öñÔ∏è Important Legal Notice"}),e.jsx("p",{className:"disclaimer-text",children:e.jsx("strong",{children:"Legal information and resources only, not legal advice."})}),e.jsxs("p",{className:"privacy-warning",children:["‚ö†Ô∏è ",e.jsx("strong",{children:"Privacy Notice:"})," This chatbot is not private. Any information you provide could be disclosed. Do not share sensitive personal information."]})]})]}),e.jsx(E,{})]})}export{oe as default};
