import{R as p,r as l,_ as V,j as e}from"./index-b54a7b49.js";var S={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O=p.createContext&&p.createContext(S),M=["attr","size","title"];function T(t,s){if(t==null)return{};var n=B(t,s),a,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(t);for(c=0;c<d.length;c++)a=d[c],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function B(t,s){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;n[a]=t[a]}return n}function x(){return x=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},x.apply(this,arguments)}function P(t,s){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,a)}return n}function g(t){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?P(Object(n),!0).forEach(function(a){D(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function D(t,s,n){return s=F(s),s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}function F(t){var s=Z(t,"string");return typeof s=="symbol"?s:s+""}function Z(t,s){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,s||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function z(t){return t&&t.map((s,n)=>p.createElement(s.tag,g({key:n},s.attr),z(s.child)))}function u(t){return s=>p.createElement(W,x({attr:g({},t.attr)},s),z(t.child))}function W(t){var s=n=>{var{attr:a,size:c,title:d}=t,f=T(t,M),v=c||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),p.createElement("svg",x({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,f,{className:h,style:g(g({color:t.color||n.color},n.style),t.style),height:v,width:v,xmlns:"http://www.w3.org/2000/svg"}),d&&p.createElement("title",null,d),t.children)};return O!==void 0?p.createElement(O.Consumer,null,n=>s(n)):s(S)}function $(t){return u({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function _(t){return u({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.971 199.362l-22.627-22.627c-9.373-9.373-24.569-9.373-33.941 0l-5.657 5.657L329.608 69.255l5.657-5.657c9.373-9.373 9.373-24.569 0-33.941L312.638 7.029c-9.373-9.373-24.569-9.373-33.941 0L154.246 131.48c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l5.657-5.657 39.598 39.598-81.04 81.04-5.657-5.657c-12.497-12.497-32.758-12.497-45.255 0L9.373 412.118c-12.497 12.497-12.497 32.758 0 45.255l45.255 45.255c12.497 12.497 32.758 12.497 45.255 0l114.745-114.745c12.497-12.497 12.497-32.758 0-45.255l-5.657-5.657 81.04-81.04 39.598 39.598-5.657 5.657c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l124.451-124.451c9.372-9.372 9.372-24.568 0-33.941z"},child:[]}]})(t)}function G(t){return u({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function U(t){return u({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function q(t){return u({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function J(t){return u({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function K(t){return u({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(t)}const Q=l.lazy(()=>V(()=>import("./AIChat-38528eba.js"),["assets/AIChat-38528eba.js","assets/index-b54a7b49.js","assets/index-c41f8a83.css","assets/AIChat-72dc5de8.css"]));function Y(){const[t,s]=l.useState(!1),[n,a]=l.useState(!1),[c,d]=l.useState([]),[f,v]=l.useState({}),[h,b]=l.useState(""),[m,y]=l.useState(!1),[k,w]=l.useState(""),C=l.useRef(null),A=l.useRef(null),I=()=>{var i;(i=C.current)==null||i.scrollIntoView({behavior:"smooth"})};l.useEffect(()=>{c.length>0&&I()},[c]);const j=async i=>{y(!0);const N={role:"user",content:i};d(r=>[...r,N]),b("");try{const r=await fetch("https://court-legal-chatbot.onrender.com/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:i.toLowerCase(),conversation_state:f})});if(!r.ok)throw new Error(`Server error: ${r.status}`);const o=await r.json();o.conversation_state&&o.conversation_state.topic&&w(o.conversation_state.topic.replace("_"," ")),d(H=>[...H,{role:"bot",content:o.response,options:o.options||[],referrals:o.referrals||[]}]),v(o.conversation_state||{})}catch(r){console.error("Connection error details:",r),d(o=>[...o,{role:"bot",content:"‚ö†Ô∏è Unable to connect to the server. Please wait 60 seconds for the backend to wake up, then click 'Restart' to try again.",options:[]}])}y(!1)},L=i=>{i.preventDefault(),h.trim()&&!m&&j(h.trim())},R=i=>{m||j(i)},E=()=>{d([]),v({}),b(""),w(""),j("start")};return n?e.jsx(l.Suspense,{fallback:e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Loading AI Chat..."}),children:e.jsx(Q,{topic:k,onBack:()=>a(!1)})}):t?e.jsxs("div",{className:"chat-page",children:[e.jsx("div",{className:"chat-header",children:e.jsxs("div",{className:"header-content",children:[e.jsx(_,{size:28,color:"#fff"}),e.jsxs("div",{className:"header-text",children:[e.jsx("h2",{children:"CAL Legal Information and Resources Chatbot"}),e.jsx("p",{children:"Information & Referrals"})]})]})}),e.jsxs("div",{className:"chat-container",children:[e.jsxs("div",{className:"messages-container",ref:A,children:[c.length===0&&!m&&e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"Starting conversation..."})}),c.map((i,N)=>e.jsx("div",{className:`message-wrapper ${i.role}`,children:e.jsx("div",{className:`message ${i.role}`,children:e.jsxs("div",{className:"message-content",children:[i.content,i.referrals&&i.referrals.length>0&&e.jsxs("div",{className:"referrals",children:[e.jsx("h4",{className:"referrals-title",children:"üìã Recommended Resources:"}),i.referrals.map((r,o)=>e.jsxs("div",{className:"referral-card",children:[e.jsx("div",{className:"referral-header",children:e.jsx("h3",{children:r.name})}),e.jsx("p",{className:"referral-description",children:r.description}),e.jsxs("div",{className:"referral-contact",children:[r.phone&&r.phone!==""&&e.jsxs("div",{className:"contact-item",children:[e.jsx(q,{size:14}),e.jsxs("span",{children:[e.jsx("strong",{children:"Intake Phone:"})," ",r.phone]})]}),r.intake_form&&r.intake_form!==""&&e.jsxs("div",{className:"contact-item",children:[e.jsx($,{size:14}),e.jsx("a",{href:r.intake_form,target:"_blank",rel:"noopener noreferrer",className:"intake-link",children:"Direct Intake Form"})]}),r.intake_instructions&&r.intake_instructions!==""&&e.jsxs("div",{className:"intake-instructions",children:[e.jsx(G,{size:14}),e.jsx("span",{children:r.intake_instructions})]})]}),r.is_nfp&&e.jsx("button",{className:"btn btn-nfp-intake",onClick:()=>window.open("https://www.chicagoadvocatelegal.com/contact.html","_blank"),children:"üìÖ Schedule Intake Appointment with Cindy"}),e.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-referral",children:"Visit Website ‚Üí"})]},o)),f.step==="complete"&&e.jsxs("div",{className:"ai-assistant-prompt",children:[e.jsxs("button",{className:"btn btn-ai-assistant",onClick:()=>a(!0),children:[e.jsx(K,{size:18})," Have Questions? Ask the AI Legal Assistant"]}),e.jsx("p",{className:"ai-assistant-hint",children:"Get answers about forms, procedures, deadlines, and court processes"})]})]}),i.options&&i.options.length>0&&e.jsx("div",{className:"options",children:i.options.map((r,o)=>e.jsx("button",{className:"btn btn-option",onClick:()=>R(r),disabled:m,children:r},o))})]})})},N)),m&&e.jsx("div",{className:"message-wrapper bot",children:e.jsx("div",{className:"message bot",children:e.jsxs("div",{className:"typing-indicator",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})})}),e.jsx("div",{ref:C})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("button",{onClick:E,className:"btn btn-restart",title:"Restart",children:e.jsx(J,{size:16})}),e.jsxs("form",{onSubmit:L,className:"input-form",children:[e.jsx("input",{type:"text",value:h,onChange:i=>b(i.target.value),placeholder:"Type your message here...",disabled:m,className:"chat-input"}),e.jsx("button",{type:"submit",className:"btn btn-send",disabled:m||!h.trim(),title:"Send message",children:e.jsx(U,{size:18})})]})]}),e.jsxs("div",{className:"chat-footer",children:[e.jsx("p",{className:"footer-disclaimer",children:e.jsx("strong",{children:"Legal information and resources only, not legal advice."})}),e.jsxs("p",{className:"footer-privacy-warning",children:["‚ö†Ô∏è ",e.jsx("strong",{children:"Privacy Notice:"})," This chatbot is not private. Any information you provide could be disclosed."]})]})]})]}):e.jsxs("div",{className:"landing",children:[e.jsx("div",{className:"landing-header",children:e.jsxs("div",{className:"logo-container",children:[e.jsx("div",{className:"icon-circle",children:e.jsx(_,{color:"#fff",size:50})}),e.jsx("h1",{children:"CAL Legal Information and Resources Chatbot"}),e.jsx("p",{className:"subtitle",children:"Self-Help Resource Navigator"})]})}),e.jsxs("div",{className:"landing-content",children:[e.jsx("h2",{children:"Welcome to the Legal Resource Portal"}),e.jsx("p",{className:"tagline",children:"This chatbot connects Illinois residents with legal information and referrals for:"}),e.jsxs("div",{className:"topic-cards",children:[e.jsxs("div",{className:"topic-card",children:[e.jsx("div",{className:"topic-icon",children:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶"}),e.jsx("h3",{children:"Child Support"}),e.jsx("p",{children:"Resources for custody and support matters"})]}),e.jsxs("div",{className:"topic-card",children:[e.jsx("div",{className:"topic-icon",children:"üéì"}),e.jsx("h3",{children:"Education"}),e.jsx("p",{children:"School rights and special education help"})]}),e.jsxs("div",{className:"topic-card",children:[e.jsx("div",{className:"topic-icon",children:"üè†"}),e.jsx("h3",{children:"Housing"}),e.jsx("p",{children:"Tenant rights and eviction assistance"})]}),e.jsxs("div",{className:"topic-card",children:[e.jsx("div",{className:"topic-icon",children:"‚öñÔ∏è"}),e.jsx("h3",{children:"Divorce"}),e.jsx("p",{children:"Divorce proceedings and legal guidance"})]}),e.jsxs("div",{className:"topic-card",children:[e.jsx("div",{className:"topic-icon",children:"üë∂üèæ"}),e.jsx("h3",{children:"Custody"}),e.jsx("p",{children:"Child custody and parenting time"})]})]}),e.jsx("button",{className:"btn btn-primary btn-large btn-start",onClick:()=>{s(!0),j("start")},children:"Begin Case Inquiry"}),e.jsxs("div",{className:"disclaimer-box",children:[e.jsx("p",{className:"disclaimer-title",children:"‚öñÔ∏è Important Legal Notice"}),e.jsx("p",{className:"disclaimer-text",children:e.jsx("strong",{children:"Legal information and resources only, not legal advice."})}),e.jsxs("p",{className:"privacy-warning",children:["‚ö†Ô∏è ",e.jsx("strong",{children:"Privacy Notice:"})," This chatbot is not private. Any information you provide could be disclosed. Do not share sensitive personal information."]})]})]})]})}export{Y as default};
